<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            padding: 0;
            margin: 0;
        }
        #div-img1{
           width: 400px;
            height: 400px;
            position: absolute;
        }
        #img1{
            width: 400px;
            height: 400px;
            /*position: absolute;*/
        }
        #big{
            width: 200px;
            height: 200px;
            background: #ccc;
            opacity: .5;
            position: absolute;
            left: 0;
            top: 0;
            display: none;
        }
        #div-img2{
            width: 400px;
            height: 400px;
            margin-left: 410px;
            overflow: hidden;
            display: none;
        }
        #img2{
            width: 800px;
            height: 800px;
        }
    </style>
</head>
<body>
 <div id="div-img1">
     <img id="img1"   src="../image/1.jpg" alt="">
    <div id="big">

    </div>
 </div>
 <div id="div-img2">
     <img id="img2" src="../image/2.jpg" alt="">
 </div>
<script>
    var oDiv = document.getElementById('big');
    var oDimg1 = document.getElementById('div-img1');
    var oDimg2 = document.getElementById('div-img2');
    oDimg1.onmouseover = function(){
        oDiv.style.display='block';
        oDimg2.style.display = 'block';
        oDimg1.onmousemove = function (e) {
            var mLeft = e.clientX-oDiv.offsetWidth/2;
            var mTop = e.clientY -oDiv.offsetHeight/2;
            var lo = oDimg1.offsetWidth-oDiv.offsetWidth;
            var to = oDimg1.offsetHeight-oDiv.offsetHeight;
            // oDiv.style.display='block';
            // oDimg2.style.display = 'block';
            if(mLeft>lo){
                mLeft = lo;
            }
            else if(mLeft<0){
                mLeft = 0;
            }
            if(mTop>to){
                mTop = to;
            }
            else if(mTop<0){
                mTop = 0;
            }
            oDiv.style.left= mLeft + 'px';
            oDiv.style.top = mTop +'px';


            console.log(  oDiv.style.top );
            console.log(  oDiv.style.left)

        };
    }
        oDimg1.onmouseout = function () {
        oDimg1.onmousemove = null;
        oDimg2.style.display = 'none';
        oDiv.style.display = 'none';
      }

</script>
</body>
</html>