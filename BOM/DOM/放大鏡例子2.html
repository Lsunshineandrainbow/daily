<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            padding:0;
            margin: 0;
        }
        #small,#small img{
            width: 200px;
            height: 200px;
            position: absolute;
        }
       #contain{
           width: 200px;
           height: 200px;
           overflow: hidden;
           position: absolute;
           top: 0;
           left: 210px;
           display: none;
       }
        #big,#big img {
            width: 400px;
            height: 400px;
        }
       #turn {
           width:100px;
           height: 100px;
           background: #ccc;
           opacity: .5;
           position: absolute;
           display: none;
           cursor: move;
        }
        #big{
            position: absolute;
        }

    </style>
</head>
<body>
  <div id="small">
      <img src="../image/放大鏡.jpg" alt="">
      <div id="turn"></div>
  </div>
  <div id="contain">
      <div id="big">
          <img src="../image/放大鏡.jpg" alt="">
      </div>
  </div>
  <script>
      var small = document.getElementById('small');
      var bg = document.getElementById('turn');
      var Contain = document.getElementById('contain');
      var bigImg = document.getElementById('big')
      small.onmouseover = function () {
            bg.style.display='block';
            Contain.style.display = 'block';
            small.onmousemove = function (e) {
                var mleft = e.clientX - bg.offsetWidth/2;
                var mtop  = e.clientY - bg.offsetHeight/2;
                var oleft =  small.offsetWidth - bg.offsetWidth;
                var otop  =  small.offsetHeight - bg.offsetHeight;
                if(mleft> oleft){
                    mleft = oleft;
                }
                else  if(mleft < 0){
                    mleft = 0;
                }
                if (mtop >otop){
                    mtop  = otop;
                }
                else  if(mtop<0){
                    mtop = 0
                }
                bg.style.left = mleft + 'px';
                bg.style.top = mtop + 'px';
                bigImg.style.left = -mleft*(Contain.offsetWidth/bg.offsetWidth) + 'px';
                bigImg.style.top = -mtop*(Contain.offsetHeight/bg.offsetHeight) +'px';
            }
      }
      small.onmouseout = function () {
          bg.style.display = 'none';
          Contain.style.display = 'none'
      }
  </script>
</body>
</html>