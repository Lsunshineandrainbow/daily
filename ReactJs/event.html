<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        .icon {
            width: 1em; height: 1em;
            vertical-align: -0.15em;
            fill: currentColor;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div id="root"></div>
</body>
<script src="react.development.js"></script>
<script src="react-dom.development.js"></script>
<script src="browser.min.js"></script>
<script src="font/iconfont.js"></script>
<script type="text/babel">
    class Com extends React.Component{
        constructor(props){
            super(props);
            this.state={
                count1:166,
                count2:88,
                xlinkHref:'#icon-dianzan',
                stic:1,
            }
        };
        add(){
            if(this.state.stic){
                this.setState({
                    count2:this.state.count2+1,
                    xlinkHref:'#icon-dianzan-copy'
                });
            }
           else{
                this.setState({
                    count2:this.state.count2-1,
                    xlinkHref:'#icon-dianzan',

                });
            };
           this.setState({stic:!this.state.stic})
        };
        addCom(event){
            if(event.keyCode==13){
               var Rev = document.createElement('Rev');
               Rev.appendChild(Com);
               Rev.innerText = 'aaa'

            }
        }
        render(){
            return (
                <div>  
                    <div>{this.state.count1}条回复</div>
                    <div>热评
                        <svg className="icon" aria-hidden="true" onClick={this.add.bind(this)}>
                            <use  xlinkHref={this.state.xlinkHref} ref="red" id="aaa"></use>
                        </svg>
                        {this.state.count2}</div>
                    <Rev name="评论1" myclick={this.add}/>
                    <Rev name="评论2"/>
                    <Rev name="评论3"/>
                    <Wir mykey={this.addCom.bind(this)}/>
                </div>
            )}
    }
    class Rev extends React.Component{
        constructor(props){
            super(props);
            this.state={
                count2:66,
                xlinkHref:'#icon-dianzan',
                stic:1,
            }
        };

        render(){
            return (
                <div>
                    {this.props.name} <svg className="icon" aria-hidden="true" onClick={(event)=>{this.props.myclick(event)}}>
                    <use  xlinkHref="#icon-dianzan"></use>
                </svg>{this.state.count2}
                </div>
            )}
    }
class Wir extends React.Component{
        constructor(props){
            super(props)
        }
        render(){
            return (
                <div> <input type="text" placeholder="回复评论" onKeyUp={this.props.mykey}/></div>
                    )
        }
}
    ReactDOM.render(
               <Com/>,
        document.getElementById('root')
    )
</script>
</html>